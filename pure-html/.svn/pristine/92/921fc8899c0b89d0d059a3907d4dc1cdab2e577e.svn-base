<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">

<meta http-equiv="Expires" content="0">
<meta http-equiv="Pragma" content="no-cache">
<meta http-equiv="Cache-control" content="no-cache">
<meta http-equiv="Cache" content="no-cache">

<title>企业中心</title>
<link rel="stylesheet" type="text/css" href="/static/css/common/Loading.css">
<link rel="stylesheet"
	href="/static/core/bootstrap/css/bootstrap.min.css" />
<link rel="stylesheet"
	href="/static/core/bootstrapvalidator/dist/css/bootstrapValidator.min.css" />
<!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
    <script src="/static/core/html5/html5shiv.min.js"></script>
    <script src="/static/core/html5/respond.js"></script>
    <![endif]-->
<link href="/static/css/common/style.css" rel="stylesheet" />
<link href="/static/css/common/form-public.css" rel="stylesheet" />
<!-- CSS to style the file input field as button and adjust the Bootstrap progress bars -->
<link rel="stylesheet"
	href="/static/core/jquery-fileupload/css/jquery.fileupload.css">
<link rel="stylesheet" href="/static/font/iconfont.css">
</head>

<body class="formpage_bj">
	<form class="form-horizontal" id="form">
		<input type="hidden" id="textId" />
		<!-- 流程字段-->
		<input name="id" id="id" type="hidden" value="" />
		<!-- 工作项ID -->
		<input name="subflag" id="subflag" type="hidden" value="" />
		<!-- 当前用户意见域名称-->
		<input name="ideaName" id="ideaName" type="hidden" value="" />
		<!-- 流程状态 -->
		<input name="filetypeid" id="filetypeid" type="hidden" value="" />
		<!-- 流程ID -->
		<input name="workFlowId" id="workflowid" type="hidden" value="" />
		<!-- 流程唯一ID -->
		<input name="workitemid" id="workitemid" type="hidden" value="" />
		<!-- 待办工作项ID -->
		<input name="opertation" id="opertation" type="hidden" value="" /> 
		<input name="title" id="title" type="hidden" value=""> 
		<input type="hidden" id="deptId" name="deptId" value="" />
		<!-- 部门id隐藏域 -->
		<input type="hidden" id="fillmode" name="fillmode" value="2">
		<input type="hidden" id="resId" name="resId" />
		<!-- 获取当前登录人的角色信息 用于流程的判断 -->
		<input type="hidden" id="roleNo" name="roleNo" />

		<div class="container-fluid formpage_idea">
			<div class="gw_form_block">
				<div class="gw_form_block_title">流程信息</div>
				<div class="gw_form_block_main">
					<table width="90%" border="0" cellspacing="0" cellpadding="0"
						class="gw_form_block_table">
						<tbody>
							<tr>
								<td width="15%" class="text-right">节点操作提示：</td>
								<td width="85%" id="flowMemo"></td>
							</tr>
						</tbody>
					</table>
				</div>
			</div>
			<div class="gw_form_block">
				<div class="gw_form_block_title"
					onclick="showTable('yjxxTable','showOrHideImg');">
					意见信息 <img align="right" style="margin-top: 10px"
						src="/static/images/icon7_down.gif" hspace="0" id="showOrHideImg" />
				</div>
				<!--<div class="dh-left col-xs-1" style="width: 50px" onclick="showTable('yjxxTable','showOrHideImg');"></div>-->
				<div class="gw_form_block_main" id="yjxxTable">
					<div class="table_body-wrapper">
						<table class="table table-hover table-reset js-disk-row"
							style="border: 0px">
							<tbody>
							</tbody>
						</table>
					</div>
				</div>
			</div>
		</div>
		<!-- 操作方法 -->
		<!-- 基本信息 -->
		<div class="container-fluid formpage_area"
			style="margin-bottom: 140px">
			<!-- 基本信息 -->
			<div class="row">
				<div class="col-md-12 ">
					<div class="block_title">
						<span class="name">基本信息</span>
					</div>
				</div>
			</div>
			<div class="row m-t-15">
				<div class="col-md-12">
				 <!-- <div class="form-group">
					<div class="rowGroup">
						<label for="" class="col-md-2 control-label"><b
							style="color: red;">*</b> 标题：</label>
						<div class="col-md-10">
							<input type="text" class="form-control" id="businessTripTitle"
								name="businessTripTitle" placeholder="标题">
						</div>
						</div>
					</div> -->
					<div class="form-group">
						<label for="" class="col-md-2 control-label"> 申请人：</label>
						<div class="col-md-4">
						<input type="hidden" id="businessTripTitle" name="businessTripTitle">
							<input type="text" class="form-control" id="creUserName" readonly
								name="creUserName" placeholder="申请人"> <input
								type="hidden" class="form-control" id="creUserId"
								name="creUserId" placeholder="">
						</div>
						<label for="" class="col-md-2 control-label"> 申请单位：</label>
						<div class="col-md-4">
							<input type="text" class="form-control" id="applicationUnitName"
								name="applicationUnitName" readonly="readonly" placeholder="申请单位">
						</div>
					</div>
					<div class="form-group">
					<label for="" class="col-md-2 control-label"> 同行人员：</label>
					   <div class="col-md-4">
					    <input id="cruDeptId" name="cruDeptId" type="hidden"/>
                            	<div class="input-group">
	                         	<input type="text" id="tripColleague" name="tripColleague" unselectable="on" onclick="openSelectZtree({'id':'tripColleagueIds','name':'tripColleague','type':'1','asyn':false,'deptId':$('#cruDeptId').val(),'level':'10','url':'/system/component/tree/deptUserTree','check':'ps','cancle':'ps'})" class="form-control" >
		                          <input type="hidden" id="tripColleagueIds" name="tripColleagueIds" /><!-- 人员ID隐藏域 -->
		                          <span class="input-group-addon" onclick="openSelectZtree({'id':'tripColleagueIds','name':'tripColleague','type':'1','asyn':false,'deptId':$('#cruDeptId').val(),'level':'10','url':'/system/component/tree/deptUserTree','check':'ps','cancle':'ps'})">
                                      <span class="glyphicon glyphicon-user"></span>
                                </span>
                                </div>
                      </div>
					</div>
					<div class="form-group">
						<label for="" class="col-md-2 control-label"> 申请时间：</label>
						<div class="col-md-4">
							<input type="text" name="applicationTime" class="form-control"
								id="applicationTime" "
								readonly="true">
						</div>
						<div class="rowGroup">
						<label for="" class="col-md-2 control-label"><b
							style="color: red;">*</b> 出差日期：</label>
						<div class="col-md-4">
							<input type="text" name="startTime" class="form-control"
								id="startTime" autocomplete='off' onchange="change('startTime')"
								placeholder="出差日期">
						</div>
						</div>
						<!-- 	<label for="" class="col-md-2 control-label"><b
							style="color: red;">*</b> 出差结束日期：</label>
						<div class="col-md-4">
							<input type="text" name="endTime" class="form-control"
								id="endTime" placeholder="出差结束日期">
						</div> -->

					</div>
					<div class="form-group">
					<div class="rowGroup">
						<label for="" class="col-md-2 control-label"> 出差时长(d)：</label>
						<div class="col-md-4">
							<input type="text" class="form-control" id="longTime"
								name="longTime" readonly placeholder="出差时长">
						</div>
						</div>
						<div class="rowGroup">
						<label for="" class="col-md-2 control-label"><b
							style="color: red;">*</b> 目的地：</label>
						<div class="col-md-4">
							<input type="text" class="form-control" id="destination"
								name="destination" placeholder="目的地">
						</div>
						</div>
					</div>
					<div class="form-group">
					<div class="rowGroup">
					    <label for="" class="col-md-2 control-label"><b
							style="color: red;">*</b> 乘坐交通工具：</label>
						<div class="col-md-4">
							<input type="text" class="form-control" id="vehicle"
								name="vehicle" placeholder="交通工具">
						</div>
						</div>
						<div class="rowGroup">
						<label for="" class="col-md-2 control-label"> 出差类型：</label>
						<div class="col-md-4" id="busiTripType"></div>
						</div>
					</div>
					<div class="form-group">
						<label for="" class="col-md-2 control-label"> 有无接待费用：</label>
						<div class="col-md-4">
							<label class="radio-inline"> <input type="radio"
								id="inlineRadio2" name="isHaveReceptionFees" checked value="0">
								无
							</label> <label class="radio-inline"> <input type="radio"
								id="inlineRadio1" name="isHaveReceptionFees" value="1">
								有
							</label>
						</div>
						<div id="receptionFe">
						<div class="rowGroup">
							<label for="" class="col-md-2 control-label"> 接待费用(元)：</label>
							<div class="col-md-4">
								<input type="text" class="form-control" id="receptionFees"
									name="receptionFees" value="0" placeholder="接待费用" readOnly>
							</div>
							</div>
						</div>
					</div>
					
					<div class="form-group">
					<div class="rowGroup">
						<label for="" class="col-md-2 control-label">出差事由：</label>
						<div class="col-md-10">
							<textarea name="reason" class="form-control" rows="3"></textarea>
						</div>
						</div>
					</div>
				</div>
			</div>
			<!-- 基本信息结束 -->
		</div>
	</form>
	<!--意见信息start-->
	<div class="container-fluid gw_form_bottom_yijian" id="ideaArea"
		style="display: none; margin-bottom: 50px;">
		<table width="100%" border="0" cellspacing="0" cellpadding="0"
			class="gw_form_bottom_table  mt_10">
			<tr>
				<td width="15%" class="title">我的意见：</td>
				<td width="85%">
					<table>
						<tr>
							<td rowspan="2" width="90%">
							    <textarea name="textarea" id="idea" cols="45" rows="3" placeholder="意见最多填写200字"
                                          class="form_textarea" style="width: 100%;" onkeyup="this.value = this.value.substring(0,200)"></textarea>
                                <span id="idea-count" value="">0</span>/200
							</textarea>
							</td>
							<td width="10%"><select class="btn btn-default"
								name="CuOpinion" id="CuOpinion"
								onchange="onSelect(this.value,'idea')"></select></td>
						</tr>
						<tr>
							<td><a class="white" href="#" onclick="add('idea')">+添加常用意见</a></td>
							</td>
						</tr>
					</table>
				</td>
			</tr>
		</table>
	</div>
	<!--意见信息end-->
	<!-- 按钮区 -->
	<div class="gw_form_right_btn_area"
		style="right: 20px; top: 20px; position: fixed;">
		<ul>
			<li><a href="#" onclick="openLayer('1')"><span
					class="glyphicon glyphicon-list-alt" aria-hidden="true"></span>
					流程记录</a></li>
			<li><a href="#" onclick="openLayer('2')"><span
					class="glyphicon glyphicon-random" aria-hidden="true"></span> 流程图</a></li>
			<li><a href="#" onclick="openLayer('3')"><span
					class="glyphicon glyphicon-pencil" aria-hidden="true"></span> 意见信息</a></li>
		</ul>
	</div>
	<div class="form_btn_area" style="text-align: center;">
		<button id="save" class="btn btn-primary form_btn_area_btn2"
			onclick="commitForm();">
			<span class="glyphicon glyphicon-floppy-disk" aria-hidden="true"></span>
			保存
		</button>
		<button id="sendFLow" class="btn btn-primary form_btn_area_btn2"
			onclick="commitFlow();">
			<span class="glyphicon glyphicon-send" aria-hidden="true"></span> 发送
		</button>
		<button id="approval" class="btn btn-primary form_btn_area_btn2"
			style="display: none" onclick="completeFlow('',Config.approvalflag)">
			<span class="glyphicon glyphicon-ok" aria-hidden="true"></span> 通过
		</button>
		<button id="noApproval" class="btn btn-primary form_btn_area_btn2"
			style="display: none"
			onclick="completeFlow('',Config.noApprovalflag);">
			<span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
			不通过
		</button>
		<button id="remove" class="btn btn-primary form_btn_area_btn2"
			style="display: none" onclick="removeFlow()">
			<span class="glyphicon glyphicon-ban-circle" aria-hidden="true"></span>
			撤办
		</button>
		<button id="resumeFlow" class="btn btn-primary form_btn_area_btn2"
			style="display: none" onclick="resumeFlow()">
			<span class="glyphicon glyphicon-repeat" aria-hidden="true"></span>
			重新启用
		</button>
		<button id="takeBack" class="btn btn-primary form_btn_area_btn2"
			style="display: none" onclick="takeBack()">
			<span class="glyphicon glyphicon-repeat" aria-hidden="true"></span>
			收回重用
		</button>
	</div>
	<!-- 按钮区结束 -->
	<script src="/static/core/jquery/jquery-1.11.2.min.js"></script>
	<script src="/static/core/bootstrap/js/bootstrap.min.js"></script>
	<script src="/static/core/bootstrap-table/bootstrap-table.min.js"></script>
	<script src="/static/core/bootstrap-table/locale/bootstrap-table-zh-CN.min.js"></script>
	<script src="/static/core/bootstrapvalidator/dist/js/bootstrapValidator.min.js"></script>
	<script src="/static/core/layer/layer.js"></script>
	<script src="/static/js/common/url.js"></script>
	<script src="/static/js/common/mylayer.js"></script>
	<script type="text/javascript" src="/static/js/common/assistUtil.js"></script>
	<!-- <script type="text/javascript" src="/product/tree/js/selectZtree.js"></script> -->
	<script type="text/javascript" src="/modules/system/component/tree/js/deptUserTree.js"></script>
	<script type="text/javascript" src="/common/js/config.js"></script>
	<script type="text/javascript" src="/product/workflow/js/storages.js"></script>
	<script type="text/javascript" src="/common/js/commonFunction.js"></script>
	<script src="/static/core/laydate/laydate.js"></script>
	<script type="text/javascript"
		src="/product/workflow/js/common/getCook.js"></script>
	<!-- 页面获取参数 -->
	<script type="text/javascript" src="/common/js/getrequest.js"></script>
	<!-- 自定义意见(最后进行加载) -->
	<script type="text/javascript" src="/common/html/notion/notion.js"></script>
	<!-- 数据校验 -->
	<script type="text/javascript" src="js/businessTripValidator.js"></script>
	<!-- 数据回显 -->
	<script type="text/javascript" src="/static/js/common/displayData.js"></script>
	<!--点击折叠展开-->
	<script type="text/javascript" src="/static/js/common/toggle.js"></script>
	<!-- <script src="/static/js/template/form.js"></script> -->
	<script type="text/javascript" src="js/businessTripEdit.js"></script>
	<script type="text/javascript">
	 $("#cruDeptId").val(getcookie("chuShiId"));
		//绑定日期输入input
		laydate.render({
			elem : '#startTime', //指定元素
			range : true,
			//value:getCurrentDate("yyyy-MM-dd")+" - "+getCurrentDate("yyyy-MM-dd"),
			//min:0,
			done : function(value, date, endDate) {
				$('#startTime').val(value).change()
			}
		});
		$(document).ready(function() {
			$('input[type=radio][name=isHaveReceptionFees]').change(function() {
				if (this.value == '0') {
					$('#receptionFees').val("0").change();
					$('#receptionFees').attr("readOnly",true);//将出差费用设置为隐藏 
				} else if (this.value == '1') {
					$('#receptionFees').val("").change();
					$('#receptionFees').attr("readOnly",false);
				}
			});
		});
	</script>
</body>
</html>
