
<style type="text/css">
.panel-controls {
	position: absolute;
	right: 40px;
	top: 10px;
}

.panel-controls>i.showSelect {
	font-size: 16px;
	color: #acb1b8;
	cursor: pointer;
}

label {
	font-weight: normal;
}
</style>
<div class="container-fluid">
	<div class="row">
		<!--查询-->
		<form class="form-horizontal">
			<div class="col-md-12">
				<div class="panel panel-default toggle">
					<div class="panel-heading" style="cursor: pointer;">
						<h3 class="panel-title">查询项</h3>
						<div class="panel-controls ">
							<i class="glyphicon glyphicon-plus showSelect"></i>
						</div>
					</div>
					<div class="panel-body" style="display: none;">
						<div class="form-group">
							<label for="" class="col-md-2 control-label">姓名：</label>
							<div class="col-md-4">
								<input type="text" class="form-control" id="name" name="name"
									placeholder="姓名">
							</div>
						</div>
						<div class="form-group">
							<div class="col-md-2" style="width: 100%; text-align: center">
								<button type="button" class="btn btn-primary"
									onclick="TableInit.refTable('right_table')">
									查&nbsp;&nbsp;询</button>
								&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
								<button type="button" class="btn btn-primary"
									onclick="TableInit.refTable('right_table')">
									重&nbsp;&nbsp;置</button>
								&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
							</div>
						</div>
					</div>
				</div>
			</div>
		</form>
		<!--查询结束-->

		<div class="col-md-12">
			<!--bootstrap-table表格-->
			<table id="right_table"></table>
		</div>
	</div>
</div>
<!-- 按钮区 -->

<!-- 按钮区结束 -->
<script src="/static/core/jquery/jquery-1.11.2.min.js"></script>
<script src="/static/core/bootstrap/js/bootstrap.min.js"></script>
<script src="/static/core/bootstrap-table/bootstrap-table.min.js"></script>
<script
	src="/static/core/bootstrap-table/locale/bootstrap-table-zh-CN.min.js"></script>
<script
	src="/static/core/bootstrapvalidator/dist/js/bootstrapValidator.min.js"></script>
<script src="/static/core/layer/layer.js"></script>
<script src="/static/js/common/url.js"></script>
<script src="/static/js/common/mylayer.js"></script>

<script src="/static/core/laydate/laydate.js"></script>

<!--文件上传js-->
<!-- The jQuery UI widget factory, can be omitted if jQuery UI is already included -->
<script
	src="/static/core/jquery-fileupload/js/vendor/jquery.ui.widget.js"></script>
<!-- The Iframe Transport is required for browsers without support for XHR file uploads -->
<script
	src="/static/core/jquery-fileupload/js/jquery.iframe-transport.js"></script>
<!-- The basic File Upload plugin -->
<script src="/static/core/jquery-fileupload/js/jquery.fileupload.js"></script>
<script src="/static/js/common/myfilupload.js"></script>
<!--文件上传js end-->
<script src="/static/js/common/tablelist.js"></script>

<script type="text/javascript">
    //定义bootatrap-table数据列
    //    sortable：开启列排序，其他参考API
    var right_table_col = [{
        field: 'id'
        , title: '编号'
        , width: '5%'
        , order: "desc"
        , align:"center"
    }, {
        field: 'applicantUnitName'
        , title: '部门名称'
        , width: '10%'
        , align:"center"
    }, {
        field: 'userName'
        , title: '姓名'
        , width: '6%'
        , align:"center"
    }, {
        field: 'hoursLeave'
            , title: '病假总次数'
            , width: '6%'
            , align:"center"
        }, {
        field: 'casualLeave'
        , title: '病假零散天累计天数'
        , width: '6%'
        , align:"center"
    },{
        field: 'businessTripe'
            , title: '病假零散小时累计小时数'
            , width: '6%'
            , align:"center"
        }, {
            field: 'goOut'
            , title: '事假总次数'
            , width: '6%'
            , align:"center"
        }, {
            field: 'overTime1'
            , title: '事假零散天数累计天数'
            , width: '6%'
            , align:"center"
        }, {
            field: 'overTime2'
            , title: '事假小时累计小时数'
            , width: '6%'
            , align:"center"
        },
        
        
        {
            field: 'overTime2'
            , title: '迟到/次'
            , width: '6%'
            , align:"center"
        },
        {
            field: 'overTime2'
            , title: '早退/次'
            , width: '6%'
            , align:"center"
        },
        {
            field: 'overTime2'
            , title: '出入记录/次'
            , width: '6%'
            , align:"center"
        },
    
    
    {
        field: 'businessTripe'
        , title: '出差/天'
        , width: '6%'
        , align:"center"
    }, {
        field: 'goOut'
        , title: '外出/天'
        , width: '6%'
        , align:"center"
    }, {
        field: 'overTime1'
        , title: '节假日加班/次'
        , width: '6%'
        , align:"center"
    }, {
        field: 'overTime2'
        , title: '晚间加班/次'
        , width: '6%'
        , align:"center"
    }];


    $(document).ready(function (e) {
        //初始化表格
        TableInit.init({
            domId:"right_table",
            url:"/mock/zhbg/kqgl/tj/list.json",
            columns:right_table_col,
            queryParams:function(params){
                //这里将各个查询项添加到要传递的参数中
//                可以做一些校验
                params.xname = $('#queryDiv input[name=\'textfield2\']').val();
                params.xage = $('#queryDiv input[name=\'textfield2\']').val();
                return params;
            },
            readOnlyFn:function(){
                for(var i = 0; i <= 2 ;i++){
                    $('tr.readOnly').eq(i).find('td').eq(3).unbind('click').bind('click',function(e){
//                    取消事件冒泡
                        var evt = e ? e : window.event;
                        if (evt.stopPropagation) {
                            evt.stopPropagation();
                        }else {
                            evt.cancelBubble = true;
                        }
//                    取消事件冒泡 end
                        MyLayer.layerOpenUrl({url:'/modules/zhbg/kqgl/deptStatistics/qjReadOnlyForm.html',title:'只读'});
                    });
                    $('tr.readOnly').eq(i).find('td').eq(4).unbind('click').bind('click',function(e){
//                    取消事件冒泡
                        var evt = e ? e : window.event;
                        if (evt.stopPropagation) {
                            evt.stopPropagation();
                        }else {
                            evt.cancelBubble = true;
                        }
//                    取消事件冒泡 end
                        MyLayer.layerOpenUrl({url:'/modules/zhbg/kqgl/deptStatistics/qjReadOnlyForm.html',title:'只读'});
                    });
                    $('tr.readOnly').eq(i).find('td').eq(5).unbind('click').bind('click',function(e){
//                    取消事件冒泡
                        var evt = e ? e : window.event;
                        if (evt.stopPropagation) {
                            evt.stopPropagation();
                        }else {
                            evt.cancelBubble = true;
                        }
//                    取消事件冒泡 end
                        MyLayer.layerOpenUrl({url:'/modules/zhbg/kqgl/deptStatistics/cdReadOnlyForm.html',title:'只读'});
                    });
                    $('tr.readOnly').eq(i).find('td').eq(6).unbind('click').bind('click',function(e){
//                    取消事件冒泡
                        var evt = e ? e : window.event;
                        if (evt.stopPropagation) {
                            evt.stopPropagation();
                        }else {
                            evt.cancelBubble = true;
                        }
//                    取消事件冒泡 end
                        MyLayer.layerOpenUrl({url:'/modules/zhbg/kqgl/deptStatistics/cdReadOnlyForm.html',title:'只读'});
                    });
                    $('tr.readOnly').eq(i).find('td').eq(7).unbind('click').bind('click',function(e){
//                    取消事件冒泡
                        var evt = e ? e : window.event;
                        if (evt.stopPropagation) {
                            evt.stopPropagation();
                        }else {
                            evt.cancelBubble = true;
                        }
//                    取消事件冒泡 end
                        MyLayer.layerOpenUrl({url:'/modules/zhbg/kqgl/deptStatistics/cdReadOnlyForm.html',title:'只读'});
                    });
                    $('tr.readOnly').eq(i).find('td').eq(8).unbind('click').bind('click',function(e){
//                    取消事件冒泡
                        var evt = e ? e : window.event;
                        if (evt.stopPropagation) {
                            evt.stopPropagation();
                        }else {
                            evt.cancelBubble = true;
                        }
//                    取消事件冒泡 end
                        MyLayer.layerOpenUrl({url:'/modules/zhbg/kqgl/deptStatistics/ccReadOnlyForm.html',title:'只读'});
                    });
                    $('tr.readOnly').eq(i).find('td').eq(9).unbind('click').bind('click',function(e){
//                    取消事件冒泡
                        var evt = e ? e : window.event;
                        if (evt.stopPropagation) {
                            evt.stopPropagation();
                        }else {
                            evt.cancelBubble = true;
                        }
//                    取消事件冒泡 end
                        MyLayer.layerOpenUrl({url:'/modules/zhbg/kqgl/deptStatistics/wcReadOnlyForm.html',title:'只读'});
                    });
                    $('tr.readOnly').eq(i).find('td').eq(10).unbind('click').bind('click',function(e){
//                    取消事件冒泡
                        var evt = e ? e : window.event;
                        if (evt.stopPropagation) {
                            evt.stopPropagation();
                        }else {
                            evt.cancelBubble = true;
                        }
//                    取消事件冒泡 end
                        MyLayer.layerOpenUrl({url:'/modules/zhbg/kqgl/deptStatistics/jbReadOnlyForm.html',title:'只读'});
                    });
                    $('tr.readOnly').eq(i).find('td').eq(11).unbind('click').bind('click',function(e){
//                    取消事件冒泡
                        var evt = e ? e : window.event;
                        if (evt.stopPropagation) {
                            evt.stopPropagation();
                        }else {
                            evt.cancelBubble = true;
                        }
//                    取消事件冒泡 end
                        MyLayer.layerOpenUrl({url:'/modules/zhbg/kqgl/deptStatistics/jbReadOnlyForm.html',title:'只读'});
                    });
                }
            }
        });
    });

</script>
