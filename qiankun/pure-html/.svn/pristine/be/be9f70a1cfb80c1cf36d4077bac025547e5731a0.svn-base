<?xml version="1.0" encoding="UTF-8"?>
<project name="tjxm" default="default">
	<property name="export.dir.root" value="D:\导出项目文件\5.22"></property>
	
	<target name="mqx">
		<mkdir dir="${export.dir.root}\tjxm"/>
		<copy todir="${export.dir.root}\tjxm" overwrite="true">
			<fileset refid="maqiuxia"/>
		</copy>
	</target>
	
	<fileset id="maqiuxia" dir="../../../../../../">
		  <!-- java文件 -->
				<!-- 常用模块文件（1.资源改为加载模块的所有的资源,2首页常用模块没数据时显示图标，3设置好的常用模块的图标跟二级菜单的图标一样，是在数据字典里配置的） -->
				<include name="WebContent/modules/mypage/oftenModel/**"/>
				<include name="WebContent/main.html"/>
				<include name="WebContent/common/js/main.js"/>
				<!-- 常用工具（新增页面添加图片） -->			
				<include name="WebContent/common/js/applicationAndUtillink.js"/>
				<include name="WebContent/modules/system/config/utillink/**"/>
				<!-- 应用导航（新增页面添加图片） -->
				<include name="WebContent/modules/system/config/applicationlick/**"/>
				<!-- 节假日设置文（周一默认改为一周的第一天） -->
				<include name="WebContent/modules/system/config/holidayset/jjrSet.html"/>
				<!-- 应用导航和常用工具添加图片的图片 -->
				<include name="WebContent/static/css/common/navigation.css"/>
				<include name="WebContent/static/core/iconfont/**"/>
				<include name="WebContent/static/images/yydh/new/**"/>
				<include name="WebContent/static/images/noMes.png"/>
				<include name="WebContent/static/css/common/style.css"/>

				
				<!-- 节假日设置文（一周默认是从周一开始） -->
				<include name="src/com/sinosoft/sinoep/modules/system/config/holidayset/service/"/>
				<include name="src/com/sinosoft/sinoep/modules/system/config/userdefinesetting/**"/>
				<!-- 自定义设置（新加的功能，首页的换肤，配置新旧门户用的） -->
				<include name="src/com/sinosoft/sinoep/modules/system/config/userdefinesetting/**"/>
				<!-- 工作计划和日志，首页日历中（周一默认一周中第一天） -->
				<!-- bug33857 修改工作计划内容不改提醒时间，会发两次消息提醒 -->
				<include name="src/com/sinosoft/sinoep/modules/mypage/workplan/service/**"/>
		        <include name="WebContent/modules/mypage/workPlan/**"/>
				<!-- 常用模块文件（1.资源改为加载模块的所有的资源,2首页常用模块没数据时显示图标，3设置好的常用模块的图标跟二级菜单的图标一样，是在数据字典里配置的） -->
				<include name="src/com/sinosoft/sinoep/modules/mypage/oftenModel/**"/>
		        <!-- 后勤管理-食堂食谱（导出不起作用） -->
				<include name="WebContent/modules/mypage/diningmenu/diningMenuList.html"/>
		  		<!-- bug34498 考勤查询下的查询项间隔大 -->
				<include name="WebContent/modules/zhbg/kqgl/kqcx/**"/>	
				<include name="WebContent/modules/zhbg/kqgl/statistics/attendanceStatsList.html"/>
		       	<include name="src/com/sinosoft/sinoep/modules/zhbg/kqgl/kqcx/services/AttendenceQueryService.java"/>
			  	<include name="src/com/sinosoft/sinoep/modules/zhbg/kqgl/kqcx/services/AttendenceQueryServiceImp.java"/>
			  	<include name="src/com/sinosoft/sinoep/modules/zhbg/kqgl/kqcx/controller/AttendenceQueryController.java"/>
		       	<include name="src/com/sinosoft/sinoep/modules/zhbg/kqgl/xtpz/constant/**"/>	
				<!-- bug34420、34490 导出页面空白问题修改 -->
				<include name="src/com/sinosoft/sinoep/modules/zhbg/kqgl/kqcx/services/CcQueryServiceImpl.java"/>
				<include name="src/com/sinosoft/sinoep/modules/zhbg/kqgl/comeLateLeaveEarly/service/ComeLateLeaveEarlyServiceImpl.java"/>
		 		<!-- bug34801 查询统计，单勾选左侧某部门，报列表加载错误 -->
				<include name="src/com/sinosoft/sinoep/modules/zhbg/kqgl/statistics/service/DirectorStatsServiceImpl.java"/>
				<!-- bug34486 工资管理页面调整 -->
				<include name="WebContent/modules/zhbg/salary/js/salaryValidator.js"/>
				<include name="WebContent/modules/zhbg/salary/salaryEditForm.html"/>
				<!-- bug34485 我的考勤页面调整 -->
				<include name="WebContent/modules/zhbg/kqgl/xtpz/myKqAttendanceList.html"/>
				<include name="WebContent/modules/zhbg/kqgl/xtpz/myKqAttendanceDetailed.html"/>
				<!-- bug34420 行政出差、业务出差导出调整 -->
				<include name="src/com/sinosoft/sinoep/modules/zhbg/kqgl/kqcx/services/CcQueryServiceImpl.java"/>
	</fileset>
	
	<target name="all">
		<mkdir dir="${export.dir.root}/cqqx"/>
		<copy todir="${export.dir.root}/cqqx" overwrite="true">
			<fileset refid="mqx"/>
		</copy>
	</target>
	<!--删除上次导出文件-->
	<target name="deleteOldFile" >  
	    <delete verbose="true" includeemptydirs="true" failonerror="false" >
	       <fileset dir="${export.dir.root}">
	           <include name="**/*"/>
	       </fileset>
	    </delete>
	</target> 

	<target name="default" depends="deleteOldFile,mqx">
        <exec executable="cmd" failonerror="false">  
            <arg line='/c explorer "${export.dir.root}\"' />  
        </exec>
	</target>	
</project>