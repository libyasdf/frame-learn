<!DOCTYPE html>
<html lang="zh_CN">
<head>
    <meta charset="UTF-8">
    <title>流程记录</title>
    <link rel="stylesheet" href="/static/core/bootstrap/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="/static/core/bootstrap-table/bootstrap-table.css"/>
</head>
<body style="margin: 20px;">
    <table id="table"></table>

    <script src="/static/core/jquery/jquery-1.11.2.min.js"></script>
    <script src="/static/core/bootstrap/js/bootstrap.min.js"></script>
    <script src="/static/core/bootstrap-table/bootstrap-table.min.js"></script>
    <script src="/static/core/bootstrap-table/locale/bootstrap-table-zh-CN.min.js"></script>
    
    <script src="/product/workflow/js/common/getrequest.js"></script>
	<script src="/product/workflow/js/common/getCook.js"></script>
	<!-- <script src="/product/workflow/js/js/flowcourse.js" type="text/javascript"></script> -->

    <script type="text/javascript">
    	var getFlowStatusURL="/workflow/getflowcourse";
		var request = GetRequest();
		var fileTypeId = !request.workflowid?request.filetypeid:request.workflowid;
		var recordId = request.recordid;
    	$('#table').bootstrapTable({
            url:getFlowStatusURL,
            //sidePagination: "server", //分页方式为server
            //pageList: "[10, 25, 50, 100, All]", //分页可选的每页数据条数
            //pagination: "true", //在表格底部显示分页条
            queryParams: function (params) {
                params.fileTypeId = fileTypeId;
                params.recordId = recordId;
                return params;
            },
            striped: true,//隔行变色
            columns: [{
                title: '序号',
                align: "center",
                width: '5%',
                formatter: function (value, row, index) {
                	//计算序号，并存放业务ID，及已办事项ID
                	var pageSize=$('#table').bootstrapTable('getOptions').pageSize;//通过表的#id 可以得到每页多少条
                    var pageNumber=$('#table').bootstrapTable('getOptions').pageNumber;//通过表的#id 可以得到当前第几页
                    return pageSize * (pageNumber - 1) + index + 1;//计算序号
                }
            }, {
                field: 'sendtime',
                title: '发送时间',
                align: "center",
                width: '17%'
            }, {
                field: 'sendname',
                title: '发送人',
                align: "center",
                width: '20%'
            }, {
                field: 'receivename',
                title: '接收人',
                align: "center",
                width: '20%'
            }, {
                field: 'operatename',
                title: '经过的路由',
                align: "center",
                width: '10%'
            }, {
                //field: 'wflevename',
                title: '节点操作',
                align: "center",
                width: '15%',
                formatter: function (value, row, index) {
                    return row.wflevename + (row.receivewfName ? '-->'+row.receivewfName : '');
                }
            }, {
                field: 'staytime',
                title: '停留时间',
                align: "center",
                width: '13%'
            }]
        });

    </script>
</body>
</html>