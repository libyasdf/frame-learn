<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <meta charset="utf-8">
  <title>table</title>
  <script src="https://cdn.staticfile.org/jquery/1.10.2/jquery.min.js"></script>
  <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" />
  <link rel="stylesheet" type="text/css" href="../libaiyi.css">
  <script type="model" src="./like_button.js"></script>
</head>

<body>
  <div id="like_button_container"></div>

  <div style="position: relative;display:flex;flex-wrap:wrap;font-size:21px;width:300px;">
    <div style="display: flex;float:left;flex-wrap:nowrap;max-width:300px;">
      <div>啊啊啊啊啊啊</div>
      <div contenteditable="true" style="background-color:red;min-width: 30px;max-width: 120px;"></div>
    </div>
    <div contenteditable="true" style="float:left;min-width: 30px;max-width:120px;background-color:green;height: 30px;"></div>
  </div>

  <table id="liby_table" width="80%" border="1">
    <tr>
      <td><input value="1111"/></td>
      <td>aaa</td>
      <td>ddd</td>
      <td><a onclick="somefunc(this)">保存</a></td>
    </tr>
    <tr>
      <td><input value="222"/></td>
      <td>bbb</td>
      <td>eee</td>
      <td><a onclick="somefunc(this)">保存</a></td>
    </tr>
    <tr>
      <td><input value="333"/></td>
      <td>ccc</td>
      <td>fff</td>
      <td><a onclick="somefunc(this)">保存</a></ td>
    </tr>
  </table>

  <table class="table table-hover table-bordered" id="mytable">
    <thead>
      <tr>
        <th>选中</th>
        <th>编号</th>
        <th>姓名</th>
        <th>密码</th>
        <th>生日</th>
        <th>地址</th>
        <th>操作</th>
      </tr>
      <tr>
        <td><input type="checkbox" onclick="checkAll(this)" /></td>
        <td colspan="6"><a href="javascript:;" class="btn btn-danger" role="button" onclick="delAll(this)">全部删除</a></td>
      </tr>
    </thead>
    <tbody id="listTable">
      <tr>
        <td><input type="checkbox" name="item" /></td>
        <td>100806131234</td>
        <td>劈日e斩月</td>
        <td>123456</td>
        <td>1995-08-07</td>
        <td onclick="del(this)">北京市朝阳区艾欧尼亚</td>
        <td>
          <input type="button" name="" value="删除" class="btn btn-danger" onclick="del(this)" />
          <input type="button" name="" value="修改" class="btn btn-info" onclick="modify(this)" />
        </td>
      </tr>
    </tbody>
  </table>

  <div id="test">
    <div class="table_header">表名</div>
    <table style="text-align:center" bgcolor="#cccccc" cellpadding="10" id="myTable" class="table table-bordered">
      <tr>
        <th class="table_th_liby">序号</th>
        <th class="table_th_liby">单位</th>
        <th class="table_th_liby">职务（职级）</th>
        <th class="table_th_liby">姓名</th>
        <th class="table_th_liby">性别</th>
        <th class="table_th_liby">出生日期</th>
        <th class="table_th_liby">退休时间</th>
        <th class="table_th_liby">警衔</th>
        <th class="table_th_liby">授衔时间</th>
      </tr>
    </table>
    <div class="table_footer">
      <a>填表时间：2017-01-02</a>
    </div>
  </div>

  <button>获取 JSON 数据</button>
</body>
<script type="text/javascript">

  function somefunc(obj) {
    console.log(obj);//得到「保存」这个标签
    var x = $(obj).parent().parent().find("td");//顺藤摸瓜找到td
    console.log("x:",x);
    var y = x.eq(0).text();//遍历tr下面的td
    var z = x.eq(1).text();
    var w = x.eq(2).text();
    console.log("y:",y);
    console.log("z:",z);
    console.log("w:",w);
  };


  const outData = {
    "caption": "表头",
    "time": "Fri May 08 2020 10:30:21 GMT+0800 (CST)",
    "filled_by": "",
    "data": [{
      "id": "1",
      "companyName": "张梅",
      "headUrl": "href='teacherDetail.html'",
      "img": "src='images/teacher.jpg'",
      "introduction": "热情大方。",
      "introuction": "热情大方。",
      "intruction": "热情大方。",
      "introducon": "热情大方。",
      "introdion": "热情大方。",
    }, {
      "id": "1",
      "companyName": "张梅",
      "headUrl": "href='teacherDetail.html'",
      "img": "src='images/teacher.jpg'",
      "introduction": "热情大方。",
      "introuction": "热情大方。",
      "intruction": "热情大方。",
      "introducon": "热情大方。",
      "introdion": "热情大方。",
    }, {
      "id": "1",
      "companyName": "张梅",
      "headUrl": "href='teacherDetail.html'",
      "img": "src='images/teacher.jpg'",
      "introduction": "热情大方。",
      "introuction": "热情大方。",
      "intruction": "热情大方。",
      "introducon": "热情大方。",
      "introdion": "热情大方。",
    }]
  };

  var tableDate = outData.data;

  function del(obj) {
    var oParentnode = obj.parentNode.parentNode;
    // console.log(oParentnode);
    var olistTable = document.getElementById('listTable');
    olistTable.removeChild(oParentnode);
  }
  $(document).ready(function() {
    var dataliby = ["111","222","333"];
    for (let i = 0; i < dataliby.length; i++) {
      console.log("111",dataliby[i]);
    }
    $("#liby_table").find('tr td input').eq(0).attr("disabled",true);
    $("#liby_table").find('tr td input').eq(0).css("background","red");
    // 加表头
    // var titleName = document.getElementById('myTable').createCaption()
    // titleName.innerHTML = outData.caption;
    // 根据json加row
    tableDate.map(function(item, index, arr) {
      var x = document.getElementById("myTable").insertRow(index + 1);
      let count = 0;
      // console.log(item);
      for (let index in item) {
        // console.log(item[index]);
        let line = x.insertCell(count);
        line.innerHTML = item[index];
        count++;
      }
    })
  })
</script>

</html>
