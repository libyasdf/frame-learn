<?xml version="1.0" encoding="UTF-8"?>
<project name="tjxm" default="default">
	<property name="export.dir.root" value="D:\导出项目文件\档案管理class_20191016"></property>
	
	<target name="wl">
		<mkdir dir="${export.dir.root}\tjxm"/>
		<copy todir="${export.dir.root}\tjxm" overwrite="true">
			<fileset refid="wanglei"/>
		</copy>
	</target>
	
	<fileset id="wanglei" dir="../../../../">
		<!--值继承，继承同类别上条录入的档案信息，存加也判断字段是否为值继承，不是值继承的字段清空数据-->
		<!--传统借阅：
			1.审批人修改为可以选多个审批人
			2.审批人和借阅人不能为同一人
			3.档案【收集】后，档案信息不能进行修改
			4.收集数据信息项添加，【密级】和【页数】
			5.传统借阅的信息在【借阅记录（按次）】模块添加修改删除功能
			6.借阅人，搜索可选择搜索出来的人员
			7.传统借阅中，档案检索，勾选收集
			-->
		<!--BUG（已解决）
			1.虚拟分类选择最后一层时，“序号”显示不正确
			2.门类下的虚拟分类选择多个归档年度后，2019年在门类树中不显示-->
		<!--存留问题：
			1.虚拟分类的排序；现在是根据创建时间排序的，一个一个的新增，后新增的在前边；
			2.文书简化，件数后台修改数据库为不必填（这个不知道是修改哪里，暂时未整理sql,忘了是应该修改表描述那个表的数据，还是文书简化表中的字段属性）-->
		<include name="build/classes/com/sinosoft/sinoep/modules/dagl/bmgl/controller/"/>
		<include name="build/classes/com/sinosoft/sinoep/modules/dagl/bmgl/services/"/>
		<include name="build/classes/com/sinosoft/sinoep/modules/dagl/bmgl/dao/VirtualClassDaoImpl.class"/>
		<include name="build/classes/com/sinosoft/sinoep/modules/dagl/daly/borrow/entity/DaglFile.class"/>
		<include name="build/classes/com/sinosoft/sinoep/modules/dagl/daly/borrow/services/"/>


		<include name="WebContent/modules/dagl/bmgl/"/>

		<include name="WebContent/modules/dagl/daly/borrow/borrowmanage/js/traditionalRegisterEdit.js"/>
		<include name="WebContent/modules/dagl/daly/borrow/borrowmanage/recordPerList.html"/>
		<include name="WebContent/modules/dagl/daly/borrow/borrowmanage/traditionalRegisterEditForm.html"/>
		<include name="WebContent/modules/dagl/wdgl/sendFile/wdglSendTidyRecode.html"/>
		<include name="WebContent/modules/dagl/wdgl/transferrepository/transferRepositoryIndex.html"/>
		<!--异步人员树，搜索之后的数据回填-->
		<include name="WebContent/modules/system\component\tree\asynUserTreeOnlySelect.html"/>

        <!--去除console.log-->
        <include name="WebContent/modules/dagl/bygl/js/studyingBackList.js"/>
        <include name="WebContent/modules/dagl/bygl/js/studyingForm.js"/>
        <include name="WebContent/modules/dagl/bygl/js/studyingReadOnlyForm.js"/>
        <include name="WebContent/modules/dagl/daly/borrow/apply/js/borrowApplyEdit.js"/>
        <include name="WebContent/modules/dagl/daly/borrow/apply/borrowApplyList.html"/>
        <include name="WebContent/modules/dagl/daly/borrow/borrowmanage/js/onLineLoanEdit.js"/>
        <include name="WebContent/modules/dagl/daly/borrow/borrowmanage/js/recordPerEdit.js"/>
        <include name="WebContent/modules/dagl/daly/borrow/borrowrecord/js/renewApplyEdit.js"/>
        <include name="WebContent/modules/dagl/daly/borrow/borrowrecord/borrowRecordList.html"/>
        <include name="WebContent/modules/dagl/daly/qtwo/Q2EditForm.html"/>
        <include name="WebContent/modules/dagl/daly/qtwo/qtwoChangeList.html"/>
        <include name="WebContent/modules/dagl/daly/shoppingtrolley/js/shoppingtrolley.js"/>
        <include name="WebContent/modules/dagl/printerRead/printerRead.html"/>
        <include name="WebContent/modules/dagl/wdgl/receiveFile/wdglTidyRecode.html"/>
        <include name="WebContent/modules/dagl/xtpz/mlgl/js/index.js"/>
        <include name="WebContent/modules/dagl/xtpz/mlgl/js/table.js"/>
        <include name="WebContent/modules/dagl/xtpz/mlgl/categoryAddForm.html"/>

        <!--归档库前台报错-->
        <include name="WebContent/modules/dagl/tree/js/dictionaryTypeTree.js"/>

	</fileset>
	
	<target name="all">
			<mkdir dir="${export.dir.root}/tjxm"/>
			<copy todir="${export.dir.root}/tjxm" overwrite="true">
				<fileset refid="wl"/>
			</copy>
		</target>
		<!--删除上次导出文件-->
		<target name="deleteOldFile" >  
		    <delete verbose="true" includeemptydirs="true" failonerror="false" >
		       <fileset dir="${export.dir.root}">
		           <include name="**/*"/>
		       </fileset>
		    </delete>
		</target> 

		<target name="default" depends="deleteOldFile,wl">
	        <exec executable="cmd" failonerror="false">  
	            <arg line='/c explorer "${export.dir.root}\"' />  
	        </exec>
		</target>	
	</project>